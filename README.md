#игровое поле, выбран такой стиль так как это простое решение и по которому я так же смог найти видео, в последствии может быть доработанно
board = [1,2,3,4,5,6,7,8,9]
#переменная для понимания дальнейшей математики, связанной с шириной поля
board_size = 3

def show_board():
    '''Выводим игровое поле.'''
    print('_' * 4 * board_size) #выводит верхнюю полосу над полем
    for i in range(board_size): # какое-то количество раз(в нашем случае чтолько сколько записано в board) повторяет команды
        print((' ' * 3 + '|') * 3) #выводит столбец первой строки, который будет продублирован трижды для каждой строки функцией выше
        print('', board[i * board_size], '|', board[1 + i * board_size], '|', board[2 + i * board_size], '|') # за каждую единицу в переменной board_size выводит 1 единицу board ограничивая ее перегородками, так же дублируется трижды переменной выше
        print(('_' * 3 + '|') * 3) #Выводит перегородки между строками и нижнюю а так же перегородки столбцов, которые соединяются с такими же из строки выше, дублируется трижды
    pass

def game_turn(index, char):# передали переменные индеса и символа(X/O) которые используем
    '''Выполняем ход.'''
    if (index > 9 or index < 1 or board[index - 1] in ('X', 'O')):
        return False
    else:
        board[index -1] = char
        return True

def check_win():
    '''Проверяем не победил ли кто-то.'''
    win = False

    win_comb = (
        (0,1,2),(3,4,5),(6,7,8), # горизонтальные линии
        (0,3,6),(1,4,7),(2,5,8), # вертикальные линии
        (0,4,8),(2,4,6)          # диагонали
    )

    for pos in win_comb:
        if (board[pos[0]] == board[pos[1]] and board[pos[1]] == board[pos[2]]):
            win = board[pos[0]]

    return win

def game_start():
    # текущий игрок
    current_player = 'X'
    # нынешний номер хода
    step = 1
    show_board()

    while (step < 10) and (check_win() == False):
        index = input('Ходит игрок' + current_player + '. Введите номер поля(0 - выход): ') # Задали переменную index которая в конечном итоге показывает на какую позицию походит тот или иной игрок

        if (index == '0'):
            break
        # если получилось сделать ход
        if (game_turn(int(index), current_player)):
            print('Ход произведен!')

            if (current_player == 'X'):
                current_player = 'O'
            else:
                current_player = 'X'

            show_board()
            step += 1
        else:
            ('Ход не удался! Попробуйте повторить!')

    if(step <= 10) and (check_win() == "X" or check_win() == "O"):
        print("Победил " + check_win())
    else:
        print("Произошла ничья!")

print('Добро пожаловать в Крестики&Нолики!')
game_start()
